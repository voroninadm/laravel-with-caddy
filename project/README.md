<h1>Ntlaravel</h1>

### УСТАНОВКА

Все настройки хранятся в .env файле
- Рабочая база - ntlaravel
- Тестовая база - testing
- мониторинг очередей в redis через laravel horizon


- установить и настроить DOCKER (wsl2)
- скопировать проект и при необходимости изменить настройка в .env
- выполнить миграции - php artisan migrate
- наполнить бд данными (seeding) -  php artisan db:seed
- забилдить проект - npm run build

***
Для работы spatie laravel-pdf при установке проекта были добавлены пакеты: \
-libnss3 \
-libatk1.0-0 \
-libatk-bridge2.0-0 \
-libxcomposite-dev \
-libxdamage1

Выполнить под sail: `docker exec -u root {container_name} apt install libnss3`
***



### Роли и разрешения
- User
Профиль работника завода. Права настраиваются в профиле

- manager
Только просмотр работ. Максиально урезанные права

### Testing

Тестирование на PEST2

Группа тестов "machinesTaskTests" - для теста задач
Применение после выполнения сидирования тестовых задач по машинам.


### Распоряжения

- Юзер - basic permissions - только смотрит
- Мастер - medium permissions - меняет статус, изменяет задачу. Не меняет очередность,
  не создает новые (ИСКЛЮЧЕНИЕ - распоряжение шпулерез, актуально на 13.11.24. Мастер создает и меняет очередность)
- Админ - Full permissions - все права
